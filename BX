<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>BX ai v0.1</title>
  <style>
    body { font-family: Arial, sans-serif; background: #111; color: #eee; text-align: center; }
    #chat { width: 90%; max-width: 600px; margin: 20px auto; background: #222; padding: 15px; border-radius: 10px; height: 400px; overflow-y: auto; }
    .msg { margin: 5px 0; padding: 8px; border-radius: 6px; }
    .user { background: #0084ff; color: #fff; text-align: right; }
    .ai { background: #333; color: #eee; text-align: left; }
    input { width: 80%; padding: 10px; border-radius: 6px; border: none; margin-top: 10px; }
    button { padding: 10px; border-radius: 6px; border: none; background: #0084ff; color: #fff; cursor: pointer; }
  </style>
</head>
<body>
  <h1>ğŸ¤– BX ai v0.1</h1>
  <div id="chat"></div>
  <input id="input" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ...">
  <button onclick="send()">Ø¥Ø±Ø³Ø§Ù„</button>

  <script>
    let memory = JSON.parse(localStorage.getItem("bx_memory")) || {};

    function addMessage(text, sender) {
      let chat = document.getElementById("chat");
      let msg = document.createElement("div");
      msg.className = "msg " + sender;
      msg.innerText = text;
      chat.appendChild(msg);
      chat.scrollTop = chat.scrollHeight;
    }

    function send() {
      let input = document.getElementById("input");
      let text = input.value.trim();
      if (!text) return;
      addMessage(text, "user");

      // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ù…Ø± "Ø§ØªØ¹Ù„Ù…"
      if (text.startsWith("Ø§ØªØ¹Ù„Ù…")) {
        let parts = text.replace("Ø§ØªØ¹Ù„Ù…", "").trim().split("=");
        if (parts.length === 2) {
          let key = parts[0].trim();
          let value = parts[1].trim();
          memory[key] = value;
          localStorage.setItem("bx_memory", JSON.stringify(memory));
          addMessage(`ØªÙ…Ø§Ù…! Ø§ØªØ¹Ù„Ù…Øª Ø¥Ù† "${key}" = "${value}"`, "ai");
        } else {
          addMessage("Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„ØµÙŠØºØ©: Ø§ØªØ¹Ù„Ù… [Ø§Ù„Ø³Ø¤Ø§Ù„] = [Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©]", "ai");
        }
      } else {
        // Ù„Ùˆ Ø§Ù„Ø³Ø¤Ø§Ù„ Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø©
        if (memory[text]) {
          addMessage(memory[text], "ai");
        } else {
          addMessage("Ù…Ø´ Ø¹Ø§Ø±Ù Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¯ÙŠØŒ Ø¹Ù„Ù‘Ù…Ù†ÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù…: Ø§ØªØ¹Ù„Ù… [Ø³Ø¤Ø§Ù„] = [Ø¥Ø¬Ø§Ø¨Ø©]", "ai");
        }
      }

      input.value = "";
    }
  </script>
</body>
</html>
